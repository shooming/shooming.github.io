{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/blog/Project/2020-05-06-DreamCar-4부/","result":{"pageContext":{"article":{"banner":{"alt":"TIL","caption":"Photo by <u><a href=\"https://unsplash.com/photos/SGBXPTiX10I\">unsplash</a></u>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='660'%20height='400'%20viewBox='0%200%20660%20400'%20preserveAspectRatio='none'%3e%3cpath%20d='M281%202c0%202%200%203%2022%209a7946%207946%200%200162%2017l4-15-21-7-20-6h-23c-23%200-24%200-24%202m76%200c-2%203-1%204%206%206s7%202%209-4l2-4h-3l-5%201h-1c0-2-8-1-8%201m18%203c-2%206-2%206%206%208%207%202%207%202%209-5%203-8%202-8-7-8h-7l-1%205m48-3c-2%205-1%206%204%207%209%203%209%203%2011-3l2-6h-9c-7%200-8%200-8%202m18%204l-2%207c1%201%2026%208%2027%207l4-12c0-1-20-8-25-8-3%200-3%200-4%206m-48%203c-3%207-2%207%205%209%207%203%208%202%209-4%203-7%203-7-3-9-9-3-9-3-11%204m19%200c-1%202-4%2011-3%2012l12%204c2%200%205-8%205-12%200-2-13-6-14-4m200%209a4048%204048%200%2001-60%2015c-3%202-4-2%209%2048a5789%205789%200%200125%2093h11l7-2%2030-7%2026-6v-46c0-51%201-43-9-80l-6-20c-2-2-7-1-33%205m-184%200c-3%209-4%208%2013%2014%2021%206%2020%206%2022-1l2-6-35-12s-2%202-2%205m-57-2c-2%206-3%2013-2%2014l16%205c1%200%206-12%206-15l-17-6-3%202m23%205c-1%201-5%2014-4%2015l13%204c1%200%205-11%205-14l-4-3-6-2h-4m35%2011c-2%202-5%2014-4%2015s12%204%2013%203c2%200%205-14%204-15l-12-4-1%201m-21%204c-2%204-1%206%206%208s8%202%208-3c0-3%200-3-4-5-7-2-9-2-10%200m34%2012v4l13%204%203-7-9-3-5-2-2%204M157%2061c0%204%200%205%203%207%203%203%2028%2011%2055%2019a1416%201416%200%20019%201c-68-21-64-19-66-28l-1-3v4m-33%204c-19%207-36%2017-40%2023-3%206-15%2012-22%2012-9%201-31%2012-45%2024-3%203-3%204-2%206l3%203c4%200%2010%207%209%2010%200%203%203%206%206%205%201-1%203%200%205%202%205%204%206%205%2011%205%209%200%2028-12%2031-19%202-4%201-13-2-22l-3-8%202-2%203-2c1-4%203-3%206%202l3%205h-3c-6-1-5%201%202%204l6%204c1%202%2010%204%2017%204%207-1%2014-4%2024-11%208-6%209-8%208-17v-7l2-4c0-3%200-3-3-3-4%200-4%200-6-3-2-4-1-7%201-8s1-4-1-6c-2-1-1-1-12%203m504-2c-1%202-1%202-2%201-3-2-4%204-2%207%201%201%200%205-3%2011l-3%2014-4%2018-3%2013c2-1%201%200%209-26%206-25%208-30%209-30v1l-8%2030%204%201c6%204%2011%202%2014-5%204-9%201-22-6-26-2-2-3-3-3-5l-1-4c-1-2-1-2-1%200m-19%200c-1%201-3%204-3%207-3%206-5%209-10%209-7%200-10%208-6%2015%202%204%206%205%2012%203%206-1%205%200%207-12l4-15c2-8%201-10-4-7M115%2085c-10%201-11%201-19%205s-8%204-8%207c1%202%202%205%205%207l9%207c5%205%205%205%2011%205%2010-1%2024-10%2024-15%200-4-2-10-4-12v-3l-7-2-11%201m164%2019l2%201c4%200%2037%2011%2041%2013%202%202%2015%206%2031%2011a9896%209896%200%20010-2l-26-9c-2-3-5-4-24-9-19-6-24-7-24-5m-213%206c0%202-1%203-6%203-6%201-9%205-17%2019l-7%2011%203%202c8%206%2013%207%2023%202%2011-6%2015-12%2010-22-1-4-1-5%202-1l2%203v-4c-2-9-10-20-10-13m470%2012c0%203-1%204-2%205l-3%202-3%201-1%201-2%203c-3%202-3%203%201%207s5%204%209%200l5-4c5-4%205-3%204-7-2-4-6-7-6-5l-1-3-1-4v4m-501%202c-9%205-9%206-6%2011%202%203%202%203%204-1l7-9%204-5-9%204m100%2012c-4%202-7%208-5%2011%200%203%202%204%209%207%2016%207%2021%208%2024%207%204-3%202-6-10-12l-6-3%201-4c1-7-6-10-13-6m-12%2021c-9%207-6%2016%205%2016%204%200%207%200%2014%203%208%203%2011%204%2012%201%202-3%200-5-10-11l-11-8c-2-2-8-3-10-1m-74%2060a4058%204058%200%2000-31%2011c-2-2-5-1-7%202l-2%202-3%202c0%202-2%203-3%203-3%201-3%205-3%2040v32h4c4%201%209%207%2011%2013l5%209%205%207c1%205%208%2014%2012%2015%203%202%205%202%209%201h14l11-1%205-2c5-1%205-4%201-5a372%20372%200%200046-24c3-3%204-1-23-59l-16-35c-5-11-6-13-10-15-6-4-8-4-25%204m582%2010c-3%201-10%2011-34%2044-61%2086-57%2079-50%2085l46%2035c3%202%2010%201%2013-3a653%20653%200%200048-66l6-8v-74l-2-2-20-13-7%202'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e"},"images":{"fallback":{"src":"/static/2102aa7855ea80d0c7e10a722d6103b6/bc51f/DreamCar.png","srcSet":"/static/2102aa7855ea80d0c7e10a722d6103b6/41200/DreamCar.png 165w,\n/static/2102aa7855ea80d0c7e10a722d6103b6/f979a/DreamCar.png 330w,\n/static/2102aa7855ea80d0c7e10a722d6103b6/bc51f/DreamCar.png 660w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/2102aa7855ea80d0c7e10a722d6103b6/322ad/DreamCar.webp 165w,\n/static/2102aa7855ea80d0c7e10a722d6103b6/de3b3/DreamCar.webp 330w,\n/static/2102aa7855ea80d0c7e10a722d6103b6/2b2b5/DreamCar.webp 660w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<h1>우당탕탕 좌충우돌 DreamCar Project 4부</h1>\n<p>이번 내용은 앞의 view만들기의 연장이다.</p>\n<h3>3번째 기록</h3>\n<pre class=\"grvsc-container abyss\" data-language=\"python\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> uuid</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">CustomCar.objects.create(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk19 mtki\">email</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;email&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk19 mtki\">name</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;name&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk19 mtki\">code</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> (</span><span class=\"mtk15 mtki\">str</span><span class=\"mtk1\">(uuid.uuid4())[</span><span class=\"mtk4\">0</span><span class=\"mtk1\">:</span><span class=\"mtk4\">5</span><span class=\"mtk1\">]</span><span class=\"mtk7\">+</span><span class=\"mtk15 mtki\">str</span><span class=\"mtk1\">(uuid.uuid4())[</span><span class=\"mtk4\">1</span><span class=\"mtk1\">:</span><span class=\"mtk4\">3</span><span class=\"mtk1\">]</span><span class=\"mtk7\">+</span><span class=\"mtk1\">code_id).upper(), </span><span class=\"mtk3\"># 이곳입니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk19 mtki\">contact_channel</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> ContactChannel.objects.last(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk19 mtki\">privacy_check</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;privacy_check&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk19 mtki\">custom_car_option</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> CustomCarOption.objects.last()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">)</span></span></span></code></pre>\n<p>이번에는 uuid인데 uuid는 범용 고유 식별자로 16 옥텟 (128비트)의 수이다. 표준 형식에서 UUID는 32개의 16진수로 표현되며 총 36개 문자(32개 문자와 4개의 하이픈)로 된 8-4-4-4-12라는 5개의 그룹을 하이픈으로 구분한다(<del>위키피디아가 알려줌</del>).\r\nuuid는 버전이 5까지 존재한다.</p>\n<ul>\n<li>버전 1 (MAC 주소)</li>\n<li>버전 2 (DCE 보안)</li>\n<li>버전 3 (MD5 해시)</li>\n<li>버전 4 (랜덤)</li>\n<li>버전 5 (SHA-1 해시)</li>\n</ul>\n<p>우리는 이중에 랜덤으로 코드를 발급해주기위해 버전4를 사용하였다.</p>\n<h3>shopping의 Views.py작성</h3>\n<p>shopping은 시승신청 작성 페이지에 기본 정보를 보내주고 신청서 내용이 접수되면 저장하는 앱이다.</p>\n<h3>4번째 기록</h3>\n<pre class=\"grvsc-container abyss\" data-language=\"python\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">from</span><span class=\"mtk1\"> django.db              </span><span class=\"mtk7\">import</span><span class=\"mtk1\"> transaction</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">UserView</span><span class=\"mtk1\">(</span><span class=\"mtk6 mtki mtku\">View</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">@transaction.atomic</span><span class=\"mtk1\"> </span><span class=\"mtk3\"># ★여기 입니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk6\">post</span><span class=\"mtk1\">(</span><span class=\"mtk19 mtki\">self</span><span class=\"mtk1\">, </span><span class=\"mtk19 mtki\">request</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">try</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7\">with</span><span class=\"mtk1\"> transaction.atomic(): </span><span class=\"mtk3\"># ★여기 입니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                data </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> json.loads(request.body)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                DriveContactChannel.objects.create(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">email</span><span class=\"mtk1\">  </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;email_privacy&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">fax</span><span class=\"mtk1\">    </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;fax&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">mail</span><span class=\"mtk1\">   </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;mail&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">sms</span><span class=\"mtk1\">    </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;sms&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">call</span><span class=\"mtk1\">   </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;call&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">sns</span><span class=\"mtk1\">    </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;sns&#39;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                User.objects.create(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">first_name</span><span class=\"mtk1\">            </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;first_name&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">last_name</span><span class=\"mtk1\">             </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;last_name&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">birthday</span><span class=\"mtk1\">              </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;birthday&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">phone_number</span><span class=\"mtk1\">          </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;phone_number&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">address_city</span><span class=\"mtk1\">          </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> AddressCity.objects.get(</span><span class=\"mtk19 mtki\">id</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;city&#39;</span><span class=\"mtk1\">]),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">address_detail</span><span class=\"mtk1\">        </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;address&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">email</span><span class=\"mtk1\">                 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;email&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">gender</span><span class=\"mtk1\">                </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> Gender.objects.get(</span><span class=\"mtk19 mtki\">id</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;gender&#39;</span><span class=\"mtk1\">]),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">drive_contact_channel</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> DriveContactChannel.objects.last(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">privacy_check</span><span class=\"mtk1\">         </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;privacy_check&#39;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                TestDriveSchedule.objects.create(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">model_version_line</span><span class=\"mtk1\">  </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> ModelVersionLine.objects.get(</span><span class=\"mtk19 mtki\">id</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;mvl&#39;</span><span class=\"mtk1\">]),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">store_information</span><span class=\"mtk1\">   </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> StoreInformation.objects.get(</span><span class=\"mtk19 mtki\">id</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;store&#39;</span><span class=\"mtk1\">]),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">expect_date</span><span class=\"mtk1\">         </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> ExpectDate.objects.get(</span><span class=\"mtk19 mtki\">id</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;expect_date&#39;</span><span class=\"mtk1\">]),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">contact_us</span><span class=\"mtk1\">          </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;contact_us&#39;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                TestDrive.objects.create(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">test_drive_schedule</span><span class=\"mtk1\">   </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> TestDriveSchedule.objects.last(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">user</span><span class=\"mtk1\">                  </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> User.objects.last(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk19 mtki\">current_car_model</span><span class=\"mtk1\">     </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> data[</span><span class=\"mtk11\">&#39;current_car&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                ) </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> HttpResponse(</span><span class=\"mtk19 mtki\">status</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">200</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">except</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtki\">KeyError</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> HttpResponse(</span><span class=\"mtk19 mtki\">status</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">400</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">except</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtki\">ValueError</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> HttpResponse(</span><span class=\"mtk19 mtki\">status</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">400</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">except</span><span class=\"mtk1\"> ObjectDoesNotExist:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> HttpResponse(</span><span class=\"mtk19 mtki\">status</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">400</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<p>이번에는 트랜젝션이다.\r\n우리들은 데이터베이스 세션중에 한번 들은 적이 있을 것이다. transaction에 대해서 그 중에서 atomic(원자성)을 이용하는데 부분적으로 실행되다 중단되지 않음을 보장하는것으로 여기서는 foreign key로 쓰이는 테이블을 먼저 저장하다 중간에 에러가 발생되어 저장되지 않는다면 그대로 저장하지 않는다.\r\n트랜젝션이 발생한 작업은 id값이 증가하지만 없었던 일이 되므로 만약 14까지 id가 있었는데 15, 16이 에러가 발생되어 저장되지 않았다면 17부터 저장이됩니다.</p>\n<h2>후기</h2>\n<p>정리가 마무리 된것 같아서 후기를 남깁니다.</p>\n<p>이번 프로젝트 생각보다 어려웠지만 팀원분들과 함께할 수 있어서 많은 것들을 배우고 프로젝트를 완성 시킬 수 있었다고 생각합니다.</p>\n<p>그 중 아쉬웠던 점을 생각해보자면\r\nFront-End / Back-End의 소통이 모자란 점이 가장 아쉬운 점이라고 생각합니다\r\n처음에는 페이지 만들어오면 api붙이면 되겠지 라고 생각했지만 마지막에 보니 back은 front가 만든 페이지에대한 api는 안만들어 놓고 front도 back이 만든 api에 대한 페이지를 안만들어던 겁니다. 그리고 api에 데이터를 주고 받을 때도 key 이름을 합의 하지 않으니 꽤 복잡했었습니다.</p>\n<p>다음에는 이런 점을 보완하여 프로젝트를 진행 해야겠습니다.</p>\n<p>PS. 팀원분들 같이 해서 즐거웠습니다.\r\n<img src=\"./img/project/%EA%B0%90%EC%82%AC%ED%95%A9%EB%8B%88%EB%8B%A4.jpg\" alt=\"감사합니다\"></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtku {\n    text-decoration: underline;\n    text-underline-position: under;\n  }\n  .abyss .mtki { font-style: italic; }\n  .abyss .mtk7 { color: #225588; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk19 { color: #2277FF; }\n  .abyss .mtk11 { color: #22AA44; }\n  .abyss .mtk15 { color: #9966B8; }\n  .abyss .mtk4 { color: #F280D0; }\n  .abyss .mtk3 { color: #384887; }\n  .abyss .mtk5 { color: #FFEEBB; }\n  .abyss .mtk6 { color: #DDBB88; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","categories":["Project"],"date":"May 06, 2020","description":"Project 수행 후 필요한 것 정리","id":"0aae4477-ff2c-56a5-a102-b94c27bb5f60","keywords":["Project","DreamCar","TIL"],"slug":"/blog/Project/2020-05-06-DreamCar-4부/","title":"DreamCar Project 4부","readingTime":{"text":"5 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["1094019748","36698639"]}