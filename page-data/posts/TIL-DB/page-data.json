{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/TIL-DB","result":{"data":{"markdownRemark":{"id":"170a8218-3573-50a6-a04d-45f347be8769","html":"<h1 id=\"database\" style=\"position:relative;\"><a href=\"#database\" aria-label=\"database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Database</h1>\n<p>데이터를 저장, 보존 하는 시스템으로 application에서는 데이터가 메모리상에 존재하고 보존되지 않는다. 그래서 필요한 정보를 장기간 저장, 보존하기 위해서 데이터 베이스를 사용하는 것이다.</p>\n<h2 id=\"관계형-데이터베이스rdbms-relational-database-management-system\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EA%B3%84%ED%98%95-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4rdbms-relational-database-management-system\" aria-label=\"관계형 데이터베이스rdbms relational database management system permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관계형 데이터베이스(RDBMS, Relational DataBase Management System)</h2>\n<p>관계형 데이터란 데이터를 서로 상호 관련성을 가진 형태로 표현한 데이터를 말한다.\n- 모든 데이터들은 2차원 테이블(talbe)들로 표현된다.\n- 각각의 테이블은 컬럼(column)과 row(로우)로 구성된다.\n- 컬럼은 테이블의 각 항목을 말한다. 열로 생각하면 된다.\n- 로우는 각 항목들의 실제 값들을 이야기 한다. 행으로 생각하면 된다.\n- 각 로우는 저만의 고유 키(Primary Key)가 있다. 주로 이 primary key를 통해서 해당 로우를 찾거나 인용(reference)하게 된다.\n- 각각의 테이블들은 서로 상호관련성을 가지고 서로 연결될 수 있다.</p>\n<p>테이블은 3가지 종류가 있다.</p>\n<ul>\n<li>one to one\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 461px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3e6a06b14f348ecf36128ed1bff2ac41/f816d/one-to-one.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABfklEQVQoz4VRy2rCQBSdlFAxVFdSodgGupJ2Uela8E/8lv6FrmyzdmFxo11Ip9UIKgGVKkJCRPANvoqoeXF7J6iImx44zFw458w9CSmXy1qj0dDYmU6nNVmW1WazqVcqlZ9MJnNPEADgcrFYsJFUq9UvVVUhn8/bhUIBstkslEolqNfrQLrdLmw2G1gulzCZTABNsN1uYTQaWZIkPaOfE0XRHwqFLsge+CBlnuFwaA8GA+j3+64XZzfQWq/XlmmaLne7nWkYhrNarX4ppY8sIBwOCzzP+wOBgBfHq3a7LaOHLWIcfAzosUir1QJd190tHccB27aBYT6fA9Z+2FdmW15Eo1GObYzVlNls5jY5BfMTRVEoCqimaRRrUwz6xPN7PB5/FItFkQViMEdOgN/uJZfLvXc6nTfUp6bT6Ss+kOr1ehL5Dyg83iORyOF6g7xF8mfyS5JMJrl4PM7VajWOVTsjOfxln893dAmCcOfxeJ6CweA1mxOJBM/0sVjM+wfRZTeWMRaBMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/3e6a06b14f348ecf36128ed1bff2ac41/8ac56/one-to-one.webp 240w,\n/static/3e6a06b14f348ecf36128ed1bff2ac41/9daa3/one-to-one.webp 461w\"\n          sizes=\"(max-width: 461px) 100vw, 461px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/3e6a06b14f348ecf36128ed1bff2ac41/8ff5a/one-to-one.png 240w,\n/static/3e6a06b14f348ecf36128ed1bff2ac41/f816d/one-to-one.png 461w\"\n          sizes=\"(max-width: 461px) 100vw, 461px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/3e6a06b14f348ecf36128ed1bff2ac41/f816d/one-to-one.png\"\n          alt=\"one-to-one\"\n          title=\"one-to-one\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span><br></li>\n<li>one to many\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 461px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b5ce2764e70cb31125cf86e4ac44f6fd/f816d/one-to-many.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABeUlEQVQoz4WRTWvCQBCGJ0EoQdsehEKLaGlvQs89+if8P/0RHorQFErBBA/Sk4KnRIgialApKHQJRPEbFBUJ8YPpbIheLHRgmMzu7Jtn34VyucxarRYrFApMVVWWz+d/ms2mVa1Wv7PZ7CNQIKKXruvyFmhPtywL2+32nubRMAzsdDrYaDQQGGO4Xq9xMpngYDDA8Xjs9aPRyEmlUs90XojFYpeRSEQEP0hIcxwHF4vFnp+hWZzP5zgcDhGm0yn+FZvNBkul0hMXiMfjwUAgcBUOhyVqr7vdrkFiOJvNXJrbb7fbHdHvVqvVDnRdl03TlElYJjqeb/T93uv1Xknw9njlaDQqJpNJgRMToXkkWi6XJ4jD4YDwX5DHZ2vFYvFF07Qv8k6hqvb7/U8ilm3b/oBKpSKSwSL94CzJS08gnU6fxDKZDC83lJz+zq9Bf/sC6FpArwO1Wg3q9bpXec/JFEXxpnK5HIRCoZOoJEkP1N/7dgg+gJBIJKRftYUxhDpGuOsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/b5ce2764e70cb31125cf86e4ac44f6fd/8ac56/one-to-many.webp 240w,\n/static/b5ce2764e70cb31125cf86e4ac44f6fd/9daa3/one-to-many.webp 461w\"\n          sizes=\"(max-width: 461px) 100vw, 461px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/b5ce2764e70cb31125cf86e4ac44f6fd/8ff5a/one-to-many.png 240w,\n/static/b5ce2764e70cb31125cf86e4ac44f6fd/f816d/one-to-many.png 461w\"\n          sizes=\"(max-width: 461px) 100vw, 461px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/b5ce2764e70cb31125cf86e4ac44f6fd/f816d/one-to-many.png\"\n          alt=\"one-to-many\"\n          title=\"one-to-many\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span><br></li>\n<li>many to many\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 701px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6517a8379bbb03bd3a6599ab8cdd45ce/49217/many-to-many.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.499999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABBUlEQVQY02O4cuXK7z179vy6cOHCbyD7x4YNG4wZoODAgQPJQLH/+/bt+3bw4MEfZ8+e/Q9Utx0kd/jwYRYQffr06RNPnz79D+T/OXfu3H+G/2jgyJEjljADDx06VPDv37//v379gsu/fPnyFEjO09OTF0TfvXv36Pfv3/+/e/cOSH3/xfDkyZP2Dx8+tAEF2oGKW+/cuSMBM/DixYuGly5dmvjq1asWoHwrUF3PjRs30oFSbHl5eWwgNdevX7/858+f/x8/fgRbyIANTJ06lWHx4sWMDHgATO/ChQujgI7IePPmTRzQcfEgCWZk/O3bN7im27dvMz548ABF/uvXr0zohiIDABok0sOYm/qXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/6517a8379bbb03bd3a6599ab8cdd45ce/8ac56/many-to-many.webp 240w,\n/static/6517a8379bbb03bd3a6599ab8cdd45ce/d3be9/many-to-many.webp 480w,\n/static/6517a8379bbb03bd3a6599ab8cdd45ce/e2a71/many-to-many.webp 701w\"\n          sizes=\"(max-width: 701px) 100vw, 701px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/6517a8379bbb03bd3a6599ab8cdd45ce/8ff5a/many-to-many.png 240w,\n/static/6517a8379bbb03bd3a6599ab8cdd45ce/e85cb/many-to-many.png 480w,\n/static/6517a8379bbb03bd3a6599ab8cdd45ce/49217/many-to-many.png 701w\"\n          sizes=\"(max-width: 701px) 100vw, 701px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/6517a8379bbb03bd3a6599ab8cdd45ce/49217/many-to-many.png\"\n          alt=\"many-to-many\"\n          title=\"many-to-many\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></li>\n</ul>\n<h2 id=\"테이블-연결-방법\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"테이블 연결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블 연결 방법</h2>\n<p>Foreign key(외부키)라는 개념을 사용해서 주로 연결한다.\n앞서 본 one to one 예에서 user<em>profiles 테이블의 user</em>id 컬럼은 users 테이블에 걸려있는 외부 키라고 지정한다.\n즉 데이터베이스에게 user_id값은 users 테이블의 id 값이며 그러므로 users테이블의 id 컬럼에 존재하는 값만 생성 될 수 있다.</p>\n<h2 id=\"테이블을-연결하는-이유\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94%EC%9D%84-%EC%97%B0%EA%B2%B0%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"테이블을 연결하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블을 연결하는 이유</h2>\n<p>하나의 테이블에 모든 정보를 다 넣으면 동일한 정보들이 중복되어 저장된다.\n- 더 많은 디스크 사용\n- 잘못된 데이터 저장 가능성 높아짐\n여러 테이블에 나누어 저장한후 필요한 테이블 끼리 연결시키면 위의 2문제가 해결된다.</p>\n<p>즉 중복 없애므로서 디스크를 효율적으로 쓰고, 서로 같은 데이터이지만 부분적으로 틀린 데이터가 생기는 문제가 없어진다.\n이것을 normalization이라고 한다.</p>\n<h2 id=\"트랜잭션transaction-tps\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98transaction-tps\" aria-label=\"트랜잭션transaction tps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>트랜잭션(Transaction)-TPS</h2>\n<p>ACID를 제공하며 질의 실행하면 실행하다 중단되면 다시시도 하고 실패하면 취소, 성공하면 commit을 하는 하나의 작업수행의 논리적 단위이다. 전체가 성공하거나 실패하고 나 둘중의 하나이다. </p>\n<h2 id=\"acid\" style=\"position:relative;\"><a href=\"#acid\" aria-label=\"acid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ACID</h2>\n<p>원자성, 일관성. 고립성. 지속성의 약자이다.</p>\n<ul>\n<li>원자성(Atomicity)\n부분적으로 실행되다 중단되지 않음을 보장하는것 돈보내는 쪽이랑 받는쪽 둘다 성공해야한 중간에 실패되면 그냥 양쪽다 실패</li>\n<li>일관성(Consistency)\n트랜잭션 실행 성공적으로 완료하여 일관성 있는 데이토 유지</li>\n<li>고립성(Isolation)\n트랜잭션을 수행하면 다른 트랜잭션은 연산작업에 끼어들 수 없다.</li>\n<li>지속성(Durability)\n성공적으로 수행된 트랜잭션은 영원히 반영되어야 함</li>\n</ul>\n<h2 id=\"nosql-데이터베이스\" style=\"position:relative;\"><a href=\"#nosql-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4\" aria-label=\"nosql 데이터베이스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NoSQL 데이터베이스</h2>\n<p>비관계형 타입의 데이터를 저장할때 사용</p>\n<p>관계형 데이터베이스와 다르게 비관계형이므로 데이터 저장전 정의 할 필요가 없음</p>\n<h2 id=\"각-데이터-베이스별-장단점\" style=\"position:relative;\"><a href=\"#%EA%B0%81-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B2%A0%EC%9D%B4%EC%8A%A4%EB%B3%84-%EC%9E%A5%EB%8B%A8%EC%A0%90\" aria-label=\"각 데이터 베이스별 장단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>각 데이터 베이스별 장단점</h2>\n<p>SQL(RDBMS)</p>\n<ul>\n<li>\n<p>장점</p>\n<ol>\n<li>효율적이고 체계적으로 저장하고 관리함</li>\n<li>데이터들의 구조(스키마)를 정의하여 데이터의 완전성 보장</li>\n<li>Transaction</li>\n</ol>\n</li>\n<li>\n<p>단점</p>\n<ol>\n<li>테이블을 정의해야하므로 구조변화에 민감</li>\n<li>\n<p>확장성이 쉽지않음</p>\n<ul>\n<li>구조가 미리 정의되어 있어서 서버늘린다고 확장 쉽지 않고 서버의 서능도 높여야함</li>\n<li>서버를 늘려서 분산 저장 하는것도 쉽지않음</li>\n<li></li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>","fields":{"slug":"/posts/TIL-DB","tagSlugs":["/tag/data-base/","/tag/til/"]},"frontmatter":{"date":"2020-05-04T23:00:00","description":"DataBase 공부한것 정리","tags":["DataBase","TIL"],"title":"DataBase","socialImage":""}}},"pageContext":{"slug":"/posts/TIL-DB"}}}